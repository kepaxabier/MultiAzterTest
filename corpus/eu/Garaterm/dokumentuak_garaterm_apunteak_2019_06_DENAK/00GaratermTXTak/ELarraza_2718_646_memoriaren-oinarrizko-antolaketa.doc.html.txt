







1.2 MEMORIAREN OINARRIZKO ANTOLAKETA
Memoriak, CPUk prozesatuko duen informazioa gordetzen du: aginduak eta datuak.
Memoriarekin oinarrizko bi eragiketa egiten dira: irakurketaeta idazketa.
Memoria nagusia eta prozesadorea komunikatzeko, busak erabiltzen dira: helbide-
busa, memoriako helbideak adierazteko; datu-busa, datuak garraiatzeko; eta
kontrol-busa, eragiketa jakin bat adierazteko. Atal honetan, memoriaren
oinarrizko egitura ikusiko dugu1.
Digitu bitar (binary digit) edo bit bat gordetzeko gai diren osagai fisikoez
eraikitzen dira memoriak. Bit bat, fisikoki adieraz daitekeen informazio-
unitate txikiena da, eta 0 edo 1 balioak har ditzake. Memoria baten tamaina edo
edukiera bit kopuru gisa adieraz daitekeen arren, unitate handiagoak erabili
ohi dira. Erabiliena, hain zuzen, bytea da: 8 bit. Memoriaren edukiera
neurtzeko, bytearen multiploak erabiltzen dira2:


1 kB (kilobyte): 210 byte edo 1024 byte
1 MB (megabyte): 220 byte edo 210kB
1 GB (gigabyte): 230 byte edo 210 MB
1 TB (terabyte): 240 byteedo 210 GB


Memoriako bitak hainbat posiziotan edo gelaxkatan elkartzen dira, guztiak
tamaina edo bit kopuru berekoak (byte bat da ohikoena). Gelaxkako bitek
adierazten duten informazioa memoria-posizio horren edukia da. Memoriako
posizio bakoitzak helbide bat dauka, eta helbide hori erabili behar da gelaxka
horretan eragiketa bat, irakurketa edo idazketa, egin ahal izateko. Gelaxka bat
da helbidera daiteken unitate minimoa. Beraz, gelaxka baten edukia da
memoriaren eta prozesadorearen artean trukatzen den informazio kantitate
minimoa.
Adi, ez nahastu bi kontzeptu hauek: memoria-gelaxka baten helbidea â€”haren
kokapena memorian, gelaxka bakoitzerako desberdina eta beti beraâ€”, eta haren
edukia â€”une horretan gordetzen duen informazioa, eta aldakorraâ€”.
Helbideen zein datuen barne-adierazpena r = 2 oinarrian egiten da, hots,
bitarrez. Zenbakien adierazpide bitarrak Sistema Digitalen Diseinu Hastapenak
irakasgaian landu denez, ez dugu hemen berriro aipatuko. Bai ordea gogorarazi,
2ren berredurak jakitea oso garrantzitsua dela memoriekin lanean ari garenean
hainbat datu abiadura egokian lortu nahi izanez gero. Horretarako nahikoa
izaten da adibidez PenDrive-en tamainak gogoan izatea:


      21=2  25=32  29=512
      22=4  26=64  210=1024
      23=8  27=128 211=210*21=1024*2=2048
      24=16 28=256 ...




Helbideak emateko, helbide-busa erabiltzen da; haren tamaina, zabalera edo bit
kopurua memoriako gelaxka kopuruarekin zuzenki lotuta dago. Izan ere, helbide-
buseko bit kopuruak nahikoa izan behar du memoria-posizio guztiak
helbideratzeko. Gogoratu: n bitekin 2n helbide desberdin adieraz daitezke; edo,
alderantziz, p gelaxka dituen memoria bat helbideratzeko, ïƒ©log2pïƒ¹ bit behar
dira helbide-busean. 1.1 irudian, memoriaren egitura logikoa ageri da. Hurrengo
hiru adibideetan, aurreko kontzeptuen arteko erlazioak lantzen dira.
            ****** 1.1 irudia.Memoriaren antolaketa logikoa. ******
1.1 Adibidea
Memoria baten gelaxka bakoitza byte batekoa da, eta memoriaren edukiera,
guztira, 2 kilobyte da. Adieraz itzazu memoria horrek duen posizio kopurua eta
helbide-busaren zabalera. Errepikatu aurrekoa gelaxkak 2 eta 4 bytekoak izanik.


Tammemmemoriaren tamaina osoa etaTamposmemoria-posizio bakoitzaren tamaina
izanik, memoriaren posizio kopurua3honela lor daiteke:


Posizio_kop=Tammem/Tampos


Beraz, helbide-busaren zabalera edo tamaina hau izango da:


Helbide_bus_tamaina=ïƒ©log2(Tammem/Tampos)ïƒ¹


Emaitzak hauek dira:


 Edukiera (osoa)   Gelaxken tamaina    Posizio kopurua       Helbide-busaren
                                                          tamaina (log2pos_kop)
   2 kilobyte           1 byte               2048                  11
   2 kilobyte           2 byte               1024                  10
   2 kilobyte           4 byte               512                    9








1.2 Adibidea
10 biteko helbide-busa erabiltzen duen memoria bat izanik, kalkula ezazu
memoriaren edukiera gelaxkak byte batekoak badira. Eta gelaxkak 2 bytekoak
badira?


Helbide-busaren bit kopurua jakinik,n, posizio kopurua honako hau da:


PosizioÂ­_kop =2n


Adibide honetan, helbide-busaren zabalera 10 bitekoa denez, orduan 210= 1024
gelaxka edo posizio daude memorian.
Memoriaren tamaina kalkulatzeko, posizio kopurua eta haien tamaina biderkatu
behar dira:


Tammem(byte) =Posizio_kopï‚´Tampos(byte)


Proposatzen diren bi kasuetarako, honako emaitza hauek izango ditugu:




        Posizio kopurua         Gelaxken tamaina      Memoriaren edukiera
             1024                    1 byte                1 kilobyte
             1024                    2 byte                2 kilobyte








1.3 Adibidea
Memoria batek 2 byteko posizioak ditu, eta haren helbide-busa 10 bitekoa da.
Zein da memoriaren tamaina eta posizio kopurua? Eta helbide-busa 11 bitekoa
balitz?


Aurreko adibidean esan den moduan, memoriako posizio kopurua eta helbide-
busaren tamaina honela erlazionatuta daude:
posizio_kop =2n
Memoriaren tamaina kalkulatzeko, hauxe besterik ez da egin behar: biderkatu
posizio kopurua posizio bakoitzaren tamainarekin.
Proposatzen diren bi kasuetarako, honako emaitza hauek izango ditugu:


  Posizio-tamaina       Helbide-busa       Posizio kopurua       Memoriaren
                                                                  edukiera
       2 byte              10 bit            1024 (1 k)          2 kilobyte
       2 byte              11 bit            2048 (2 k)          4 kilobyte






Prozesadorearen eta memoriaren arteko datu-transferentziak egiteko, datu-busa
erabiltzen da. Konputagailu batek luzera askotariko datuak prozesatzen ditu (8,
16, 32, 64 bit, etab.), baina horietako bat tamaina â€œpribilegiatuaâ€ da.
Oinarrizko tamaina horri hitzaderitzo, eta prozesadorearen barne-egitura
â€”erregistroen tamaina, datu-busaren zabalera, UALean egiten diren eragiketen
tamaina, etab.â€” neurri horretarako dago bereziki diseinatuta. Gaur egun,
hitzaren tamaina 64 bit da konputagailu komertzial gehienetan, baina badira 32
biteko hitzak erabiltzen dituzten konputagailuak ere. Gainerako datu-tamainak
hitzaren arabera deskribatu ohi dira; adibidez, 32 biteko hitzen kasuan, hauek
dira datu-tamaina posible batzuk: bytea (8 bit), hitz erdia (16 bit), hitza (32
bit), hitz bikoitza (64 bit).
Datu-busaren tamainak edo zabalerak zedarritzen du transferentzia batean
garraia daiteken bit kopuru maximoa. Aipatu berri dugun moduan, datu-busaren
zabalera eta hitzaren tamaina bat datoz konputagailu gehienetan. Hots, 64
biteko prozesadoreetan, datu-busa 64 bitekoa da (gutxienez).
Datu bat idazteko edo irakurtzeko, memoria atzitu behar da, eta atzipen batean
hitz bat (edo hitz zati bat) maneiatzen da, irakurtzeko zein idazteko. Oro har,
memoriako eragiketa batean egin behar den atzipen kopurua idatzi/irakurri behar
den datuaren tamainaren arabera da. Adi: atzipen kopuruak eragin zuzena du
memoriako agindu baten exekuzio-denboran! Memoriako eragiketa baten atzipen
kopurua kalkulatzeko, honako hau hartu behar dugu kontuan:


baldin (Tamdatï‚£Tamhitza) â†’atzipen bakar bat
baldin (Tamdat>Tamhitza) â†’êœ’Tamdat / Tamhitzaê€ atzipen


Gogoratu: konputagailu gehienetan, eta BIRD prozesadorean ere,
Tamhitza=Tamdatu-busada.


1.2 irudiak hiru egoera desberdin erakusten ditu, hitzaren eta datuaren tamaina
erkatuz. (a) eta (c) kasuetan, nahikoa da atzipen batekin datua prozesatzeko;
(b) kasuan, aldiz, bi atzipen behar dira.


  ****** 1.2 irudia.Memoriako atzipen kopuruak datuaren eta memoriako hitzen
                       tamainak kontuan harturik. ******


Lehen aipatu dugun moduan, memoriako gelaxka bat da helbidera daitekeen
informazio kopururik txikiena. Kopuru hori byte bat denean (ohikoena), byteak
helbideratzen direla esaten da (1.3a irudia). Hots, memoriako byte guztiek
helbide desberdina dute memorian. Horrek ez du esan nahi, hala ere, memoriako
atzipenak beti bytekoak izango direnik. Izan ere, informazio gehiago jaso ohi
da (2 byte, 4 byte, etab.) memoriako atzipen bakoitzean.
Byteak helbideratzen dituzten memorietan, hitz batek posizio bat baino gehiago
okupatuko du eskuarki, hitzaren byte kopuruaren arabera. Beraz, bi helbide mota
bereiz litezke: batetik, hitzaren helbidea; eta, bestetik, hitza osatzen duten
byteen helbideak, memoriak behar dituenak. Hitz jakin bat atzitzeko eman behar
den helbidea haren lehenengo byteari dagokiona da. Adibidez, 1.3b irudian, 256
posizioko (byteko) memoria ageri da, 4 byteko 64 hitzek osatuta. 4 byteko
hitzak ditugunez, hitzak honako helbide hauetan daude: 0â€“3, 4â€“7, 8â€“11, ...
         ****** 1.3 irudia.Byteak helbideratzen dituen memoria. ******
Byte baten helbideak, bitetan jarrita, bi eremu hauetan bana daitezke: byte
hori duen hitzaren helbidea, â€œlogikoaâ€; eta bytearen posizioa hitz horren
barnean:


            @ byte                  @ hitza                  byte
nbitn â€“ kbitkbit


n biteko helbide batetik abiatuta â€”n = log2 (memoriako byte kop.)â€”, helbideen
eremu bakoitzaren bit kopurua hau da:
- bytearen posizioa hitz horretan â†’ k = log2 (hitzen byte kop.)
- hitzaren helbidea memorian â†’ n â€“ k =log2 (mem. hitz kop.)
Adibidez, 12 helbidea honela interpreta daiteke 1.3b irudiko memorian:
helbidearen bit kopurua, n = 8 bit
hitz baten barruan, byte bat adierazteko, k = 2 bit
hitzen helbideak, beraz, n â€“ k = 6 bit


         (12) 0000 1100ï‚        0000 11                   00
3 hitza 0 bytea
Oro har, byte baten helbidea emanda â€”hamartarrez. esaterakoâ€” honela kalkulatzen
dira byte horri dagokion hitzaren helbidea eta bytearen posizioa hitzaren
barnean:
@hitza = @bytedivhitzaren_tamaina (byte)
byte = @byte
modhitzaren_tamaina (byte)
non div zatiketaren zatidura eta mod zatiketaren hondarra diren. Aurreko
adibidean, @byte = 12 eta hitzaren tamaina = 4 byte; beraz,
@hitza
 = 12 div 4 = 3
byte = 12 mod 4 = 0
Egungo konputagailu guztietan, atzipen lerrokatuak besterik ez dira onartzen;
hots, hitzen hasierako byteak helbideratu behar dira (byte eremuan, bit guztiek
0koak izan behar dute). Hala egiten ez denean, helbideratzea ez-lerrokatua da.
Atzipen ez-lerrokatuak ez dira erabiltzen, beste gauza batzuen artean,
motelagoak direlako. Izan ere, memoriako bi hitz irakurri behar dira behar den
hitza eskuratzeko. Adibidez, 4 byteko hitz bat eskuratzeko, 5 helbidetik
abiatuta (000001Â 01 helbidea, ez-lerrokatua), 1 hitzaren 3 byte (memoriako 5, 6
eta 7 helbideak) eta 2 hitzaren byte bat (memoriako 8 helbidea) irakurri
beharko genituzke (ikus 1.3 irudia).
Arestian esan dugun moduan, tamaina askotariko datuak prozesatzen dituzte
konputagailuen aginduek. Zenbait kasutan, ez da hitz oso bat idazten edo
irakurtzen, baizik eta zati bat: byte bat, hitz erdia, ... Adibidez, 1.3
irudiaren eskemari jarraituz, 000001Â 00 helbidearekin hitz osoa, hitz erdia (2
byte) edo byte bakarra (hitzaren lehenengo bytea) atzi daitezke. Kasu horietan,
aginduak berak adieraziko du irakurri behar den zatia, eta zati hori besterik
ez da transferituko datu-busean.
Byteak helbideratzea da ohikoena; hala ere, zenbait sistematan hitza da
helbidera daiteken informazio-unitate txikiena (1.4 irudia). Hitzen helbideetan
ez dira bereiziko hitza osatzen duten byteak. Helbideragarria den unitate
txikiena hitza denez, arazoa hitza baino txikiagoak diren datuak atzitzean
datza; adibidez, byte bat. Hori egin ahal izateko, softwarearen laguntza behar
da; prozesadoreak desplazamendu- eta maskara-eragiketak (2. kapituluan
aztertuko ditugu) exekutatu behar ditu datu-busetik helduko den hitzaren
gainean, behar duen hitz zatia eskuratzeko eta gainerakoa baztertzeko. Gaur
egungo konputagailu komertzial gehienek byteak helbideratzen dituzte memorian,
eta, hala, software-gainkargarik gabe (maskarak, desplazamenduak, etab.) atzi
daitezke hitza baino txikiagoak diren datuak.
         ****** 1.4 irudia.Hitzak helbideratzen dituen memoria. ******
Atal honekin bukatzeko, laburbil ditzagun hemen BIRD konputagailuaren memoriako
ezaugarri nagusiak. Memoria nagusian, 16 biteko 216 gelaxka daude; beraz, 64 k
hitzeko edo 128 kilobyteko memoria da. Helbide-busa zein datu-busa 16 bitekoak
dira, eta helbideratze-unitatea hitza da (2 byte). BIRD konputagailuan
prozesatzen diren datu guztiak 16 bitekoak dira, eta, ondorioz, memoriako
atzipen bakarra behar da datu bat irakurri edo idazteko. Aginduak, ordea, 32
bitekoak dira (agindu bakoitzak memoriako 2 posizio edo hitz betetzen ditu).
Atzipen bakoitzean hitz bat irakurtzen denez (datu-busa 16 bitekoa da), bi
atzipen behar dira agindu bat irakurtzeko, eta bakoitzean aginduaren zati bate
eskuratu4.
Ondorioz, PCaren balioa bi unitatetan gehituko da bilaketa fasean zehar,
azkenean hurrengo aginduaren helbidea adieraz dezan.
Aurreko datuetatik erraz ondorioztatzen da IR erregistroa 32 bitekoa dela, eta
PCa, ordea, 16 bitekoa. Modu berean, BIRD konputagailuaren erregistro-multzoko
32 erregistroak 16 bitekoak dira.
1Prozesadoreen kalkulu-abiadura gero eta altuagoei erantzun egokia emateko,
memoria-sistemak ere gero eta konplexuagoak dira (cache memoria, busak, eta
abar). Horiek azaltzea ga honen helburutik kanpo dago. Hori dela eta,
oinarrizko kontzeptuak eta egiturak besterik ez dira azalduko, eta kontzeptu
horiek integratzen dituen eredu sinple bat proposatu.

2Salbuespen gisa, memoriaren edukiera adierazten denean, k multiploak ez du
ohiko 1000 adierazten, 1024 (210) baizik. Adi! kasu bakarra da hori; beste
magnitude guztietan, betiko esanahia mantentzen da: k = 103, M = 106, eta abar.
Bai irakasgai honetan memoriaren edukierarekin arituko gara maiz.
3â€œKopuruâ€ eta â€helbideâ€ hitzak hainbat aldiz erabili behar dira; askotan,
laburdurak erabiltzen dira: # ikurra kopurua adierazteko, eta @ ikurra helbidea
adierazteko.
4 Kontuz: aurreko atalean, agindu baten exekuzio faseak errazago ulertzearren,
aginduak atzipen bakar batean eskuratu ditugu, 16 bitekoak zirelakoan.
                                       6
